### User additions to .bashrc go in this file.

# ls command
alias ls='ls -Gh'

# tmux related settings
alias tmux='tmux -2' # Force tmux to assume the terminal supports 256 colours.
if [[ -n "$TMUX" ]]; then
	if [ -f "$HOME/.tmux.completion.bash" ]; then
		source $HOME/.tmux.completion.bash
	fi
fi

### bash tab-completion scripts
if [ -f "$HOME/.git-completion.bash" ]; then
	source $HOME/.git-completion.bash
fi

### ls colors
if [ -f "$HOME/.dircolors.256" ]; then
	eval "$(dircolors $HOME/.dircolors.256)"
fi

### libevent libraries
if [[ -z "$TMUX" ]]; then
	LD_LIBRARY_PATH=${LD_LIBRARY_PATH:+$LD_LIBRARY_PATH:}/global/homes/m/mich/.opt/libevent/libevent-2.1.8-stable/lib
fi

if [[ "$OSTYPE" == "linux-gnu" ]]; then # Linux
	### PATH to local scripts
	if [[ -z "$TMUX" ]]; then
		if [ -d "$HOME/.opt/bin" ]; then
			export PATH=$HOME/.opt/bin${PATH:+:$PATH}
		fi
	fi

	if [[ "$NERSC_HOST" == "pdsf"* ]]; then
		### Command prompt
		export PS1='\[\e[0;31m\]\u@\h:\w\$ \[\e[m\]'

		### Useful directories
		export SCRATCH=/project/projectdirs/cuore/scratch/michsakai
		export SIMULATION_CUORE=/project/projectdirs/cuore/syncData/CUORE_simulation

		### Functions
		function g++-diana {
			local filename=$(basename "$@")
			local executable=${filename%.*}
			g++ -std=c++11 -O2 -Wall -Wextra -Wshadow -I${BOOST_ROOT}/include -L${BOOST_ROOT}/lib -lboost_regex $(root-config --cflags --glibs) -o ${executable} "$@"
		}
		function g++-root {
			local filename=$(basename "$@")
			local executable=${filename%.*}
			g++ -std=c++11 -O2 -Wall -Wextra -Wshadow -I${BOOST_ROOT}/include -L${BOOST_ROOT}/lib -lboost_regex $(root-config --cflags --glibs) -lRooFit -lMinuit2 -I${BOOST_ROOT}/include -o ${executable} "$@"
		}

		### System installed software
		module load cmake/3.5.2
		module load git/2.2.1

		### manually installed modules in Mich's home
		#module use /global/homes/m/mich/.opt/modulefiles
	fi
elif [[ "$OSTYPE" == "darwin"* ]]; then # MacOS
	### Colored terminal settings ###
	export CLICOLOR=1
	export LSCOLORS=GxFxCxDxBxegedabagaced
fi
